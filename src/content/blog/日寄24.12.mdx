---
title: 日寄 of December,2024
description: Diery of December,2024
pubDate: 2024-12-1
categories:
    - OI生涯记录
    - 日寄
tags:
    - OI
---

import Collapse from "../../components/mdx/Collapse.astro";

~~好诶，是新日寄~~

# 12.1

今天周天，玩了一下午战地。

ybz 和 yzp 把 BFV 买了，这下可以愉快开黑了 awa。

然后晚上回来，就开始练 DP ~~，只不过练的是橙的~~。

还有，你谷怎么还不审我 TJ，~~都放 3d 了~~

加了几首歌 awa。

# 12.2

$\bmod ^ {-1} \sin$ ~~不是 NOIP 考完了吗怎么还是一周考 3 次啊~~

#### T1

二分答案，二分一个序列的平均数，然后 check 就好了，然后赛时没打出来 qwq。

#### T2

可以用 DP 在 $\Omicron(nk)$ 的时间内求出对于每一个逆序对数 $k$，排列的数量。（这是道黄题欸）

然后 TJ 写的可以一位一位地确定序列，但是我不会。

#### T3

数位 DP，没学过正在补 qwq。

#### T4

字符串二分 + 哈希，但是要找一个性质，不会。

一下午补题 $40pts \to 120pts$，寄。

## 下午

在学数位 DP，其实感觉还是挺简单的，但是题单里的题都是绿 $\to$ 紫的诶，还有就是记忆化搜索的状态真的很容易填错位置欸。

## 晚上

在讲 NOIP 的题，看了题解也不会 qwq，但是 T2 真的是 $\Omicron(\log n)$ 的解法，要么矩阵快速幂要么展开式子直接快速幂，应该可以搞。

然后看到状压 DP 题单开了，去看，第一题就不会，TSP 还在学，感觉要补的好多啊。

晚上还得熬夜打 CF Edu，寄（真就日寄是吧）。

就搓了两道，T1 还吃了一发罚时

# 12.3

好耶，没有 $\bmod ^ {-1} \sin$。

## 上午

早上在写状压/数位 DP，自己搓出来了，好耶。还把 NOIP T2 补了，关于我 T，是因为用了 `gp_hash_table`，不稳定，被你谷民间数据卡掉了。

## 下午

首先先打了场 CF Div.2，只做了两道题 qwq。然后就接着补状压 DP，还写了几道矩阵快速幂优化 DP。

打完了就开始补 Edu 和 Div.2 的题，Edu 补了 3 道，Div.2 还没题解就没补。

然后又用珂朵莉树水了几道题。

## 晚上

照例玩原，然后 nmbd 单抽出恰斯卡，我要抽欧洛伦和玛薇卡的，cnm米哈游。

玩完就补题去了，然后就开始讲题了（没听 qwq）。

明天还有 $\bmod ^ {-1} \sin$ qwq。

# 12.4

$\bmod ^ {-1} \sin A ^ 8 gain$

### T1 & T3

去搓 T2 了所以看都没看。

赛后看了 T1，最后 10min 推的结论差不多是正确的，只是要调一下就过了，T3 DP，图上的，不会。

### T2

一看，动态树，LCT 没学过，但是，这些操作是可以离线的，所以可以将加的每一条边先加上，然后赋值成 $+\infty$。可能是个森林，所以得加个超级源点，连上每一棵树的根，然后把边权缩为点权，就可以树剖了。

剖完过后，每个加边操作可以看作修改边（点）权，查询就是树上路径长度查询，只不过大于 $+\infty$ 的答案要输出 $-1$，就好了。

damn 是，我赛时没想到这 byd 题还有自环，$91pts \to 10pts$，还被 zcy 的数据 hack 掉了。还有这 b 题的输入也是真™毒瘤。

下午本来改出来成 $100pts$ 了，但是被 hack 了，汇编出来调了一下午，还是被卡，nmmd。

### T4

应该是 DP，赛时就打了个暴力骗了 $10pts$。

这场比赛就 tmd 得了 $20pts$，但是起码没爆零 awa。

## 下午

改题...

然后最后一节课日常摆烂，和 ybz 打局域网斗地主。

## 晚上

改题 & 水题 & 学大数学在 OI 中的应用

# 12.5

无 $\bmod ^ {-1} \sin$

## 上午

改了状压 DP 的 B,F，然后尝试学 FHQ-Treap，学不会捏。因为昨天晚上学了矩快和牛顿迭代法，然后就去找题做，不想写实数高精，然后 Python 就被卡了。

然后就没干啥了？

## 下午

过来把 G 题 A 了，然后就开始尝试卡昨天考试 T2，写了汇编，还是没卡过。

然后昨晚不是写了快速幂的大集合嘛，就把[置换快速幂/置换开根](https://www.luogu.com.cn/problem/P2227)模板过了。

## 晚上

把 CRT 模板过了。

珂朵莉树时间 awa。

尝试写了两道题，被卡了一道。

明天还得考 jmr 的题，主席树是看不懂一点的，如果可以就珂朵莉树骗分呗。

另外，又加了一首歌 ~~（猿身，启洞！）~~

# 12.6

考 jmr 的[原题](https://www.luogu.com/article/5vyg1zac)

### T1

原$ ^ 2$题，11.15 考的原题，还只打了暴力打表，没救了。

虽然跟置换有关，但换成人话就是求 $\sum _ {i = 1} ^ n lcm \ {len _ j} $

就是个背包 DP，因为取 $1$ 时，对 $lcm$ 的值没有贡献，而这些数都可以被唯一分解为质数，所以可以先把质数筛出来，然后就是 0-1 背包板子。

### T2&T3&T4

不会做，T2 没想到的是还能建成图论的模型，T3 是数据结构，主席树没学过，T4 题意都没看。

只能说开考 30min 速通考试。

## 下午

开网以后发现是原题，就改了一下，交上去就 A 了。

然后剩下三道题根本改不动，直接去学模拟退火了。

然后就是把微积分教程 Part 1 写完了。

## 晚上

写状压 DP 最后一道题。

日常用珂朵莉树暴打线段树。

然后就是把状压 DP 总结写了。

# 12.7

补题

把 DP 2000-2400 的专题补得只剩一道了，最后一道不会。

然后就写了写数位 DP，学了下光速幂。

~~日寄速通~~

# 12.8

晚上回去，久违的发了每日一练，然后发现，就是我矩阵快速幂题单里的原题

就是每一个字符，向它的相邻字符连一条有向边，这样就是个邻接矩阵了。再对每个元素取反，因为是补图，然后就是矩快板子了。

15min 速通每日一练，一遍过。

然后就回家打 CF 了，切了两道题，我 C 题都看出结论了，但是码力不行没调出来 555。

我太菜了。

# 12.9

<p style = "color: #ff4444;font-size: 36px;">今天我红名了！</p>

雨下了一整天，直接给我整速冻了。

## 上午

开了新专题，倍增优化 DP，然后 C,D 题抢到了首 A。

其实倍增优化跟倍增 LCA 简直一模一样。

# 下午

祝老本来让我去讲 C 题的，但是没人听，就直接 10s 速通了 awa。

然后就把 P5350 用珂朵莉树 A 掉了。

今天还看到一张流萤的美图，豪堪，可爱。

<Collapse title = "点我看图片">
    ![](/image/Firefly_1.jpg)
</Collapse>

# 12.10

$\bmod ^ {-1} \sin A ^ {\text{不知道}}gain$

### T1

把字符串划分成几块，使任意相邻两块中有至少一个化成整数后是 $d$ 的倍数。

写了个暴搜，尝试写记忆化，但是爆炸了，只能骗 $30pts$。

### T2

$n \in [1,10 ^ {18}]$，要么结论要么 $\Omicron(\log n)$，那一看就是结论啊，也推出来了。但是只有个大概的结论，不能做到 $\Omicron(1)$ 回答，那就相当于没用，寄。写了个暴力，$\Omicron(B!)$ 那种，正确性还不一定保证，期望得分 $20pts$。

### T3

异或哈希，和之前做过的一道叫 Penocony 的很像，光速写了个 $\Omicron(n ^ 2)$ 的算法， $20pts$ 到手，然后就优化不了了。

### T4

方案数的题，不会做。

期望得分： $30 + 20 + 20 + 0 = 90 pts$

实际得分： $0 + 0 + 20 + 0 = 20 pts$，死因是慢巴 CWOI 机子和 SB 捆绑。

T3 的话是原题改了一下，线段树，但是我写的又 tm 不是线段树，tmd。

其实异或哈希也可以做，加个权就好了。然后赛时忘了代码了，寄。

## 下午

改了 T3，然后就去做 DP 优化了。

## 晚上

因为 P3287 要二维树状数组，就去学，但是不想想那个二维前缀和的式子，然后就去写树套树了，然后就时空双爆了。

然后尝试动态开点，但是也炸了。

好像还要写标记永久化，但这个就真不会了。

# 12.11

没有模拟赛（终于好好打了一次）

## 上午

先补了几道题，然后就去改 Blog 了，只能说 module 还不如多写个 JS 然后在 html 里面调用。

## 下午

又改了一改，然后本来是想补题，但是实在不想了，而且写的那道还被卡常了，所以去水谷了，帮一个 MnZn 解决了线段树板子。

## 晚上

又帮那个 MnZn 改了改线段树2。

写了几道线段树水题，尝试把我的代码卡常过去，但是失败了，nmd。

感觉今天好水啊。

# 12.12

模拟赛

### T1

一眼不会，求两点间字典序最小的路径的第 $k$ 个点。

CF 2700，放 T1？

赛后看来还是比较简单的，建反图，然后两遍 DFS 就解决了。

### T2

求满足 $\begin{cases} 1 \le A \le N,A \in \Z 1 \le B \le M,B \in \Z (\sqrt{A} + \sqrt{B}) ^ 2 = C,C \in \N _ + \end{cases}$ 的 $(A,B)$ 的数量。

本来想了个分解质因数的方法，但是预处理就能 T 飞，然后就打了个 $\Omicron(NM)$ 的暴力。

### T3

分块裸题，但是我去打珂朵莉树了，`assign` 没起作用，然后 T 成暴力分了。

CF 原题，但只有 1600，没能场切，不活了。

### T4

答辩题，500 位的数不带取模的，直接骗了 $n=1$ 的分。

S- 难度的题挂成 $70pts$ 了，没救了。

## 下午

又双叒叕在改博客，然后把 T2,T3 改出来了。

然后明天要去讲 DP 优化 J 题，所以在复盘 DP 和二维树状数组。

$\alpha$ 要我给他讲珂朵莉树，然后发现写的那个 Blog 简直是依托答辩，就去改了改。

## 晚上

改 T1。写个数据结构专题，先写树状数组吧。

~~得塔斯抓克车儿~~

# 12.13

## 上午

补题 & 讲题，但是没人听 qwq。

然后昨天晚上写的 JS 有个 bug，光速改了。

本来准备写个歌曲列表，但是 CSS 懒得写，索性不写了。

## 下午

改题

## 晚上

先打了洛谷入门赛，最后一道题大模拟，不想打，倒数第二道题直接动用了 Python 之力，秒了。

然后开题 30min 是 Rnk 25，打完是 Rnk 236，寄。

然后就准备把题单 K 题改了，但是还没敲完就要下课了。

# 12.14

## 上午

把 USACO 的铜组 AK 了，只能说 T3 有两种情况没考虑到，挂了十多发。

## 中午

战地，爽。

## 下午

把银组的 T1 T2 A 了，然后就走了

# 12.15

早上睡到 9:00 才起，然后就去 THUPC，M 题简单题，秒了，然后就做不出来了。

下午又打了一下午战地。

# 12.16

## 上午

做了一道矩快，调了半个上午，死因是输出没取模。

然后体育课随机游走了半天。

## 下午

把上午没过的一道题过了，然后学了一下光速幂。

然后就把矩快题单的前 $6$ 道做完了。

## 晚上

接着做题，然后写写日寄。

# 12.17

$\bmod ^ {-1} \sin$

### T1

一眼背包，但是值域是 $10 ^ 6$ 的，$\Omicron(nW)$ 会 T，就没打。然后赛后一看，数据随机，我真™服了。

### T2

没有思路，刚开始还发错题了。

### T3

一眼二分答案，但是 `check` 函数写挂了，就打了个模拟退火，但是也没调好参数，于是就骗了 10pts。

### T4

状压 DP++，不会，寄。

然后题解写的是整数分拆数，不会。

整场考试直接挂成 10pts，寄。

## 下午

改题。把 T1 T2 改了，~~然后准备再写点题解，但是没找到题写~~

## 晚上

先把矩快 G 题做了，等 yzp 交了再交，给他个首 A。

然后改网站，但是一直报错，索性不改了。

然后看 ybz 找到考试 D 原题了，但是是黑的，不改了。

# 12.18

## 上午

昨天说的讲矩快题，我还以为我讲，但是是 WGC dalao 去的，所以就没去。然后学了半个早上的得他斯抓克车儿，但是 CDQ 分治是真的不会 qwq。

~~已经能看出 A 组数据结构题单每一题用什么数据结构了~~

然后写了写矩阵的总结。

## 中午

抽星见雅，歪了，cnm mihomo。

## 下午

调了两节课把 J 题过了，死因是左移没开 `long long`，然后就把总结的 Tricks 部分写完了。

## 晚上

$H _ 2 O$ 了亿小会。。。

# 12.19

## 早上

考试，爆零了。

#### T1

区间覆盖，本来想的是图论，但是证伪了。题解写的树形 DP 我是真没想到。

#### T2

数学题，质因数分解和 Trie 树，只能说出题人是真的狗，卡 `map`。

#### T3

博弈论 DP，最后 5min 发现状态设错了，全部推翻，寄。

#### T4

推式子和线段树维护，已经打了 6kb 主函数都没开始打。

## 下午

只改了 T1。

## 晚上

整个晚自习都在写 T4 的狗 B 代码，重构了不知道多少遍了，然后直接动用了 C++ 语法的最高境界。

# 12.20

## 早上

打 Global Round 的 VP，只打了两道题就被 T3 卡了，然后没看到 T4 一道简单题，寄。

别人都放假回家了，化竞的今天下午也放了，可能怨气最重的就是信竞生了吧。

## 下午

F 题要笛卡尔树，然后就去补了。只能说得塔斯抓克车儿需要更进一步了。Treap，启动！

## 晚上

讲题（可能是停课以来第一次讲？），然后学 FHQ-Treap。

# 12.21

昨天晚上打完 CF，玩到了 3:30，困死了，但是出星见雅了，乐。

## 早上

写 & 讲了笛卡尔树 E，只能说数据结构是几乎没有思维成本。

然后用 FHQ-Treap 把文艺平衡树过了。

## 下午

没听懂 F，寄。

# 12.22

周天，打 BF。

晚上回去考了音体美，但是美术是发了答案，但也找不到。~~甚至加了三道物理防 AK~~

到机房 $H _ 2 O$ 了亿会。

# 12.23

### 上午

补了笛卡尔树的 H 题，然后尝试学习 WBLT。

### 下午

讲题，但是没人听，然后就写了一篇题解。

### 晚上

JMR 在讲二项式反演和容斥原理，只能说都听懂了，但是不怎么会用 qwq。

后天就要写容斥 DP 了，寄。

明天还得考试。

# 12.24

### 早上

考试，105pts。

#### T1

简单二分题，计算删除和添加元素的贡献就行了，但是本来想用权值线段树，导致调了 1.5h+，寄。

#### T2

只能说出题人不会写中文可以写英文，三个操作是同时的。

看了题解，还是挺好想的，对于一对 $s _ i,t _ j$，最大移动次数为 $\lceil \frac{|i - j|}{k} \rceil$，证明不想写，~~可以用盯真法~~。然后就可以将 $s _ i$ 与 $t _ i$ 配对，可以用 `set` 维护。

#### T3

很好的一道状压，预处理答案。

#### T4

维护选与不选的区间，是区间推平，珂朵莉树，启动！

### 下午

改题，可能是第一次改到 400pts？

### 晚上

改昨天被卡的题，依旧被卡，然后就是容斥题单开了。

# 12.25

## 早上

因为打了 CF 所以 8:30 才到。

直接开容斥的一道[题](https://www.luogu.com.cn/problem/P1450)，一看，组合问方案，刚好昨晚学了数学的生成函数，可以拿来练练。

<Collapse title = "生成函数部分">

对于每个 $i$，题目让我们求的生成函数是 $\sum _ {n = 0} ^ {d _ i} (x ^ {c _ i}) ^ {n} = \sum _ {n \ge 0} (x ^ {c _ i}) ^ n - \sum _ {n \ge d _ i + 1} (x ^ {c _ i}) ^ n $。

化成封闭形式就是 $F _ i(x) = \frac{1 - x ^ {(d _ i + 1)c _ i}}{1 - x ^ {c _ i}}$，答案即为 $[x ^ s] \prod _ {i = 1} ^ 4 F _ i(x)$

</Collapse>

但是我不会多项式，然后就先学了 FFT，只能说多项式的精髓就是推公式~~和背板子。~~

## 下午

调了 FFT 模板，过了，挺抽象的。

然后把上午的那道题过了。

<Collapse title = "思路">

我们可以设 $Ans = MN,M = \prod _ {i = 1} ^ 4 \frac{1}{1 - x ^ {c _ i}}$。

不会求逆，我们就展开，展开回幂级数形式。然后因为 $s \le 10 ^ 5$，可以只处理 $10 ^ 5$ 以内的，这个可以用 FFT 做到 $\Omicron(s \log s)$。然后就可以暴力展开 $N$，根据卷积的定义就可以求出答案。

~~因为预处理复杂度一致所以众点平等都跑 600ms。~~

还有

$\pi$ 一定要写成 $3.14159265358979$ 或者 `acos(-1.0)` ！！！！！

</Collapse>

## 晚上

$H _ 2 O$

# 12.26

今天考试。

#### T1

想象学竞赛，计算前缀和，然后二分出人数，就过了

#### T2

一开始想的是贪心，然后用笛卡尔树加树状数组维护。但是发现假了，DP 又想不到，就写 T3 暴力了。

#### T3

选择排序，感觉有点动态逆序对，但是只打了暴力。

#### T4

暴力没思路，寄。

最后甚至 170pts,rnk 5。

## 下午

讲题，先把 T2 改了，是个状压。然后就把 T3 的结论推了一下，只能说 mz dalao 太 nb 了，~~使用盯真法 A 了 T3。~~然后 T4 没听懂 qwq。

## 晚上

和第二分块斗智斗勇，最后因为值域判断小了一点，然后就过了。

这是我第一道黑题 awa。

# 12.27

## 早上

写了几道容斥的题，挺抽象的。大概总结出来套路了：

1. 看到“恰好”，考虑二项式反演
2. 正着不好做就反着想

## 下午

接着写

## 晚上

讲题 + 写学习笔记

# 12.28

考试

#### T1

简单数位 DP，直接背板子。

#### T2

看着像二分，但实际上好像不是，然后就打了个真不了一点的做法。

#### T3

图论题，打了 20pts 性质。

注意到染色必须两个两个一起染，所以如果是一个环的话，答案就是 $\begin{cases} -1,\frac{n}{2} \mod 2 = 1 \frac{n}{2},\text{Otherwise} \end{cases}$。

然后还有一个是 $n \le 20$，直接状压。

#### T4

不会，寄。

最后 T1 tmd 挂成 14pts，因为输入格式炸了。

## 下午

光速改出 T1，然后看了 T4 题解，其实还是挺简单的，但是因为和排名有关所以要用权值类型的数据结构。

本来不信邪，写了 FHQ Treap，然后就信邪了，光速改成权值树状数组。

# 12.29

~~刘德华要解冻了~~

回去就在练平衡树，再把之前改好了的题交上去了。

> 2024 倒计时还有两天了

# 12.30

接着补题，然后晚上开元旦晚会

<span><del>只能说黄艺宁的表演真的是<span style = "color: yellow;">黄得没边</span> </del></span>

然后罗老发了麦当劳 ~~（也是捞上薯条了）~~，真的乐。

但是明天还要考试就很烦。

# 12.31

jmr 出的三道数学一道动态 DP 的毒瘤题，爆零了。

#### T1&T2&T3&T4

我不会！

然后因为放元旦假，中午就放学了，回家打了一下午战地。

然后在原神跨了年，2024 就这么过去了，这个日记也已经写了 19kb 了呢。

2025 又是新的开始呢。

# End of Diery of December,2024