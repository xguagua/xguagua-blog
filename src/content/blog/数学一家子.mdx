---
title: 数学一家子
description: 我也不知道该归在哪里的数学一家子
pubDate: 2025-10-28
categories:
    - 大数学照亮世界
    - 算法学习笔记
tags:
    - 数学
    - OI
---

## 0. 卡特兰数

问就是考到了不会。

定义式是这样的： $C _ n = \begin{cases} 1,n = 0 \\ \sum \limits _ {i = 0} ^ {n - 1} C _ i C _ {n - i - 1}, n \gt 0  \end{cases}$。因此，卡特兰数和规模为 $n$ 的可以通过枚举分界点而分成 $i$ 与 $n - 1 - i$ 的子问题的问题关系密切。

一个经典的例子是对于一个 $n \times n$ 的网格图，左下角为 $(0,0)$，右上角为 $(n,n)$ 从左下角开始每次只能向右或向上走一格，不能越过直线 $y = x$ 的方案数为 $C _ n$。

证明一下，设 $F _ k$ 表示从 $(0,0)$ 到 $(k,k)$ 的合法路径数，则第一步一定向右走到 $(1,0)$，最后一步一定是从 $(k,k - 1)$ 走到 $(k,k)$，上述方案数为 $F _ {k - 1}$。而从 $(k,k)$ 走到 $(n,n)$ 的方案数为 $F _ {n - k}$，这个 $k$ 的贡献就是 $F_ {k - 1} F _ {n - k}$。所以，$F _ n = \sum \limits _ {k = 1} ^ n F _ {k - 1} F _ {n - k}$，令 $i = k + 1$ 则有 $F _ {n} = \sum \limits _ {i = 0} ^ {n - 1} F _ i F _ {n - 1 - i}$，恰好是卡特兰数的递推式。

更一般的，我们可以抽象上面的模型成：有两种操作，在任何时候第二种操作的次数不得少于第一种操作的次数，求长度为 $n$ 的合法操作序列方案数。

符合上面模型的就有很多了，比如括号序列计数与出栈序列计数等。

但是，类卷积式还是算的太慢了，以下是几个可以 $\Omicron(n)$ 计算的式子：

$$
C _ {n} = \frac{1}{n + 1}C _ {2n} ^ n = \frac{(2n)!}{n!(n + 1)!} \\ 
C _ {n} = C _ {2n} ^ n - C _ {2n} ^ {n + 1} \\
C _ {n} = \frac{4n - 2}{n + 1} C _ {n - 1}
$$